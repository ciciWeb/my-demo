(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order-detail"],{"0eaf":function(e,t,c){"use strict";var a=c("7a8b");const o=e=>(Object(a["pushScopeId"])("data-v-81415816"),e=e(),Object(a["popScopeId"])(),e),n={class:"simple-header"},r={key:1},l={class:"simple-header-name"},d=o(()=>Object(a["createElementVNode"])("i",{class:"nbicon nbmore"},null,-1));function i(e,t,c,o,i,s){return Object(a["openBlock"])(),Object(a["createElementBlock"])("header",n,[o.isback?(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",r,"      ")):(Object(a["openBlock"])(),Object(a["createElementBlock"])("i",{key:0,class:"backicon",onClick:t[0]||(t[0]=(...e)=>o.goBack&&o.goBack(...e))})),Object(a["createElementVNode"])("div",l,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(c.name)+" ",1),Object(a["renderSlot"])(e.$slots,"name",{},void 0,!0)]),d])}var s=c("6a81"),b={props:{name:{type:String,default:""},back:{type:String,default:""},noback:{type:Boolean,default:!1}},emits:["callback"],setup(e,t){const c=Object(a["ref"])(e.noback),o=Object(s["d"])(),n=()=>{e.back?o.push({path:e.back}):o.go(-1),t.emit("callback")};return{goBack:n,isback:c}}},O=(c("2f24"),c("b3f2")),u=c.n(O);const j=u()(b,[["render",i],["__scopeId","data-v-81415816"]]);t["a"]=j},"2f24":function(e,t,c){"use strict";c("cf75")},3092:function(e,t,c){},"71cb":function(e,t,c){"use strict";c("3092")},"99c5":function(e,t,c){"use strict";c.d(t,"c",(function(){return o})),c.d(t,"d",(function(){return n})),c.d(t,"a",(function(){return r})),c.d(t,"b",(function(){return l})),c.d(t,"e",(function(){return d}));var a=c("a27e");function o(e){return a["a"].post("/saveOrder",e)}function n(e){return a["a"].get("/order/"+e)}function r(e){return a["a"].put(`/order/${e}/cancel`)}function l(e){return a["a"].put(`/order/${e}/finish`)}function d(e){return a["a"].get("/paySuccess",{params:e})}},cf75:function(e,t,c){},d3bb:function(e,t,c){"use strict";c.r(t);var a=c("7a8b");const o=e=>(Object(a["pushScopeId"])("data-v-4a79ced6"),e=e(),Object(a["popScopeId"])(),e),n={class:"order-detail-box"},r={class:"order-status"},l={class:"status-item"},d=o(()=>Object(a["createElementVNode"])("label",null,"订单状态：",-1)),i={class:"status-item"},s=o(()=>Object(a["createElementVNode"])("label",null,"订单编号：",-1)),b={class:"status-item"},O=o(()=>Object(a["createElementVNode"])("label",null,"下单时间：",-1)),u=Object(a["createTextVNode"])("确认收货"),j=Object(a["createTextVNode"])("去支付"),m=Object(a["createTextVNode"])("取消订单"),p={class:"order-price"},k={class:"price-item"},f=o(()=>Object(a["createElementVNode"])("label",null,"商品金额：",-1)),h=o(()=>Object(a["createElementVNode"])("div",{class:"price-item"},[Object(a["createElementVNode"])("label",null,"配送方式："),Object(a["createElementVNode"])("span",null,"普通快递")],-1)),N={style:{width:"90%",margin:"0 auto",padding:"20px 0"}},y=Object(a["createTextVNode"])("支付宝支付"),V=Object(a["createTextVNode"])("微信支付");function g(e,t,c,o,g,C){const v=Object(a["resolveComponent"])("s-header"),w=Object(a["resolveComponent"])("van-button"),E=Object(a["resolveComponent"])("van-card"),B=Object(a["resolveComponent"])("van-popup");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createVNode"])(v,{name:"订单详情",onCallback:o.close},null,8,["onCallback"]),Object(a["createElementVNode"])("div",r,[Object(a["createElementVNode"])("div",l,[d,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.detail.orderStatusString),1)]),Object(a["createElementVNode"])("div",i,[s,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.detail.orderNo),1)]),Object(a["createElementVNode"])("div",b,[O,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.detail.createTime),1)]),3==e.detail.orderStatus?(Object(a["openBlock"])(),Object(a["createBlock"])(w,{key:0,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:t[0]||(t[0]=t=>o.handleConfirmOrder(e.detail.orderNo))},{default:Object(a["withCtx"])(()=>[u]),_:1})):Object(a["createCommentVNode"])("",!0),0==e.detail.orderStatus?(Object(a["openBlock"])(),Object(a["createBlock"])(w,{key:1,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:o.showPayFn},{default:Object(a["withCtx"])(()=>[j]),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0),e.detail.orderStatus<0||4==e.detail.orderStatus?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(w,{key:2,block:"",onClick:t[1]||(t[1]=t=>o.handleCancelOrder(e.detail.orderNo))},{default:Object(a["withCtx"])(()=>[m]),_:1}))]),Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("div",k,[f,Object(a["createElementVNode"])("span",null,"¥ "+Object(a["toDisplayString"])(e.detail.totalPrice),1)]),h]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.detail.newBeeMallOrderItemVOS,t=>(Object(a["openBlock"])(),Object(a["createBlock"])(E,{key:t.goodsId,style:{background:"#fff"},num:t.goodsCount,price:t.sellingPrice,desc:"全场包邮",title:t.goodsName,thumb:e.$filters.prefix(t.goodsCoverImg)},null,8,["num","price","title","thumb"]))),128)),Object(a["createVNode"])(B,{show:e.showPay,"onUpdate:show":t[4]||(t[4]=t=>e.showPay=t),position:"bottom",style:{height:"24%"}},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",N,[Object(a["createVNode"])(w,{style:{marginBottom:"10px"},color:"#1989fa",block:"",onClick:t[2]||(t[2]=t=>o.handlePayOrder(e.detail.orderNo,1))},{default:Object(a["withCtx"])(()=>[y]),_:1}),Object(a["createVNode"])(w,{color:"#4fc08d",block:"",onClick:t[3]||(t[3]=t=>o.handlePayOrder(e.detail.orderNo,2))},{default:Object(a["withCtx"])(()=>[V]),_:1})])]),_:1},8,["show"])])}c("54a2");var C=c("676e"),v=(c("6d73"),c("778e")),w=c("0eaf"),E=c("99c5"),B=c("6a81"),S={name:"OrderDetail",components:{sHeader:w["a"]},setup(){const e=Object(B["c"])(),t=Object(a["reactive"])({detail:{},showPay:!1});Object(a["onMounted"])(()=>{c()});const c=async()=>{v["a"].loading({message:"加载中...",forbidClick:!0});const{id:c}=e.query,{data:a}=await Object(E["d"])(c);t.detail=a,v["a"].clear()},o=e=>{C["a"].confirm({title:"确认取消订单？"}).then(()=>{Object(E["a"])(e).then(e=>{200==e.resultCode&&(Object(v["a"])("删除成功"),c())})}).catch(()=>{})},n=e=>{C["a"].confirm({title:"是否确认订单？"}).then(()=>{Object(E["b"])(e).then(e=>{200==e.resultCode&&(Object(v["a"])("确认成功"),c())})}).catch(()=>{})},r=()=>{t.showPay=!0},l=async(e,a)=>{v["a"].loading,await Object(E["e"])({orderNo:e,payType:a}),t.showPay=!1,c()},d=()=>{C["a"].close()};return{...Object(a["toRefs"])(t),handleCancelOrder:o,handleConfirmOrder:n,showPayFn:r,handlePayOrder:l,close:d}}},x=(c("71cb"),c("b3f2")),P=c.n(x);const _=P()(S,[["render",g],["__scopeId","data-v-4a79ced6"]]);t["default"]=_}}]);
//# sourceMappingURL=order-detail.f3042a8e.js.map